// [NEW]
@page "/admin/studio/editor"
@layout FullPageLayout

@using GFC.BlazorServer.Components.Pages.Admin.Studio.TopBar
@using GFC.BlazorServer.Components.Pages.Admin.Studio.LeftPanel
@using GFC.BlazorServer.Components.Pages.Admin.Studio.RightPanel
@using GFC.BlazorServer.Components.Pages.Admin.Studio.Canvas

@inject ILogger<Editor> Logger

<div class="studio-container">
    <div class="top-bar">
        <TopBar OnDeviceToggle="HandleDeviceToggle" OnPageChange="HandlePageChange" />
    </div>
    <div class="left-panel">
        <LeftPanel />
    </div>
    <div class="canvas">
        <Canvas @ref="canvas" />
    </div>
    <div class="right-panel">
        <RightPanel />
    </div>
</div>

@code {
    private Canvas canvas;

    private void HandleDeviceToggle(TopBar.DeviceView view)
    {
        canvas.SetDeviceView(view);
    }

    private void HandlePageChange(int pageId)
    {
        Logger.LogInformation("Selected page ID: {PageId}", pageId);
        // We will load the page data in a later step
    }
}
