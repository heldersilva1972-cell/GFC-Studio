// [NEW]
@using GFC.Core.Models

<div class="studio-wizard">
    <h5>Wizard Assistant</h5>
    @if (Warnings.Any())
    {
        <ul class="list-group">
            @foreach (var warning in Warnings)
            {
                <li class="list-group-item list-group-item-warning">@warning</li>
            }
        </ul>
    }
    else
    {
        <p>No issues detected.</p>
    }
</div>

@code {
    [Parameter]
    public StudioSection TargetSection { get; set; }

    public List<string> Warnings { get; private set; } = new List<string>();

    protected override void OnParametersSet()
    {
        AnalyzeSection();
    }

    private void AnalyzeSection()
    {
        Warnings.Clear();
        if (TargetSection == null)
        {
            return;
        }

        // SEO Health Bar
        if (!TargetSection.Content.Contains("<h1>"))
        {
            Warnings.Add("SEO: Missing H1 tag.");
        }
        if (TargetSection.Content.Contains("<img") && !TargetSection.Content.Contains("alt="))
        {
            Warnings.Add("SEO: Image is missing alt text.");
        }

        // Layout Doctor
        // This is a naive check. A real implementation would be more robust.
        if (TargetSection.Content.Split(new string[] { "<div class=\"col" }, StringSplitOptions.None).Length - 1 > 4)
        {
            Warnings.Add("Layout: More than 4 columns may not be mobile-friendly.");
        }
    }
}
