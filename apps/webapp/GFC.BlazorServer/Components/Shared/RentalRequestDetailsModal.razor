// [NEW]
@using GFC.Core.Models

<div class="modal fade show" style="display: @(_isVisible ? "block" : "none");" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Rental Request Details</h5>
                <button type="button" class="btn-close" @onclick="Close"></button>
            </div>
            <div class="modal-body">
                @if (Request != null)
                {
                    <p><strong>Requester:</strong> @Request.RequesterName</p>
                    <p><strong>Email:</strong> @Request.RequesterEmail</p>
                    <p><strong>Phone:</strong> @Request.RequesterPhone</p>
                    <p><strong>Member Status:</strong> @(Request.MemberStatus ? "Member" : "Non-Member")</p>
                    <p><strong>Guest Count:</strong> @Request.GuestCount</p>
                    <p><strong>Kitchen Usage:</strong> @(Request.KitchenUsage ? "Yes" : "No")</p>
                    <p><strong>Requested Date:</strong> @Request.RequestedDate.ToShortDateString()</p>
                    <p><strong>Status:</strong> @Request.Status</p>
                    <p><strong>Rules Agreed:</strong> @(Request.RulesAgreed ? "Yes" : "No")</p>
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" @onclick="Close">Close</button>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public HallRentalRequest Request { get; set; }

    [Parameter]
    public EventCallback OnClose { get; set; }

    private bool _isVisible = false;

    public void Show()
    {
        _isVisible = true;
        StateHasChanged();
    }

    private void Close()
    {
        _isVisible = false;
        OnClose.InvokeAsync();
    }
}
