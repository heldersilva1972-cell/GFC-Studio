GFC ECOSYSTEM – AUTHORITATIVE CONTINUATION REPORT
SECTION 03 – GFC WEB STUDIO
STATUS: UNDER REVIEW
DOCUMENT TYPE: R3 ADDENDUM – SECTION H ONLY (FULL EXECUTION EXPANSION)
ECOSYSTEM VERSION: v1.0.0
SECTION REVISION: R3-H (UNDER REVIEW – ADDITIVE ONLY)
GENERATED: 2025-12-13

================================================================================
SECTION H – RESTRICTED AND ROLE-BASED PREVIEWS
STATUS: UNDER REVIEW
================================================================================

H.1 PURPOSE
STATUS: PENDING
Restricted and Role-Based Previews allow authorized users to view content exactly
as it would appear to different audiences without publishing it. This capability
supports validation of permissions, visibility rules, and content gating before
public exposure.

All previews are non-public, authenticated, time-limited, and auditable.

--------------------------------------------------------------------------------
H.2 SCOPE
STATUS: PENDING

H.2.1 Included
STATUS: PENDING
• Preview as role (member, admin, guest, etc.)
• Preview as permission set
• Restricted preview links
• Time-limited preview tokens
• Preview visibility warnings

H.2.2 Excluded
STATUS: PENDING
• Public or indexable previews
• Bypassing permission checks
• Renderer feature testing (handled elsewhere)

--------------------------------------------------------------------------------
H.3 PREVIEW CONTEXT MODEL
STATUS: PENDING

H.3.1 PreviewContext Entity
STATUS: PENDING

H.3.1.1 Required Fields
STATUS: PENDING
Each PreviewContext MUST persist:
• PreviewContextId
• PageId
• RevisionId
• SimulatedRole
• SimulatedPermissions
• CreatedByUserId
• CreatedUtcTimestamp
• ExpirationUtcTimestamp
• IsLinkBased (boolean)

H.3.1.2 Immutability Rules
STATUS: PENDING
PreviewContext MUST be immutable once created. Any change requires a new context.

--------------------------------------------------------------------------------
H.4 PREVIEW GENERATION
STATUS: PENDING

H.4.1 Preview Request Validation
STATUS: PENDING
Before generating a preview, the system MUST:
• Verify user authorization
• Validate requested role/permissions
• Ensure revision exists

H.4.2 Rendering Rules
STATUS: PENDING
Previews MUST:
• Use the same rendering pipeline as publish
• Enforce all visibility rules
• Display preview banners

--------------------------------------------------------------------------------
H.5 RESTRICTED PREVIEW LINKS
STATUS: PENDING

H.5.1 Token Generation
STATUS: PENDING
Restricted preview links MUST:
• Use cryptographically strong tokens
• Be scoped to a single page/revision
• Have explicit expiration

H.5.2 Access Enforcement
STATUS: PENDING
Access to preview links MUST:
• Require authentication
• Enforce role/permission checks
• Expire automatically

--------------------------------------------------------------------------------
H.6 VISIBILITY WARNINGS
STATUS: PENDING

H.6.1 Warning Types
STATUS: PENDING
UI MUST display warnings indicating:
• Simulated role
• Simulated permissions
• Preview-only state

H.6.2 Misconfiguration Detection
STATUS: PENDING
If content is invisible to a role unexpectedly, warnings MUST be shown.

--------------------------------------------------------------------------------
H.7 UI REQUIREMENTS
STATUS: PENDING

H.7.1 Preview Selector
STATUS: PENDING
UI MUST allow selection of:
• Role
• Permission set
• Link-based preview

H.7.2 Banner and Indicators
STATUS: PENDING
Previews MUST clearly indicate they are non-public.

--------------------------------------------------------------------------------
H.8 AUDIT AND LOGGING
STATUS: PENDING

H.8.1 Audited Events
STATUS: PENDING
• Preview context creation
• Preview access via link
• Preview expiration

H.8.2 Required Fields
STATUS: PENDING
Audit logs MUST include:
• Actor
• Timestamp
• Page/Revision
• Preview type
• Outcome

--------------------------------------------------------------------------------
H.9 FAILURE AND RECOVERY
STATUS: PENDING

H.9.1 Invalid Preview Context
STATUS: PENDING
If preview context is invalid or expired:
• Access MUST be denied
• User MUST be informed

--------------------------------------------------------------------------------
H.10 CURSOR PROMPT BOUNDARY MAP
STATUS: PENDING

H.10.1 Prompt Groups
STATUS: PENDING
• PreviewContext data model
• Token generation and validation
• Preview rendering enforcement
• UI preview selector and banners
• Audit hooks

Each group MUST be implemented as independent Cursor prompts.

--------------------------------------------------------------------------------
END OF SECTION H
================================================================================
